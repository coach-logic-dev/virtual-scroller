{"version":3,"sources":["../source/tbody.js"],"names":["px","NOT_SUPPORTED_MESSAGE","supportsTbody","window","document","documentMode","reportTbodyIssue","setTimeout","Error","console","error","addTbodyStyles","tbody","classList","add","style","getElementById","createElement","id","innerText","replace","head","appendChild","setTbodyPadding","beforeItemsHeight","afterItemsHeight","setProperty"],"mappings":"AAAA,SAASA,EAAT,QAAmB,WAAnB;AAEA,IAAMC,qBAAqB,GAAG,sRAA9B;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,QAAP,CAAgBC,YAArD,EAAmE;AAClE;AACA,WAAO,KAAP;AACA;;AACD,SAAO,IAAP;AACA;AAED,OAAO,SAASC,gBAAT,GAA4B;AAClC,MAAI,OAAOH,MAAP,KAAkB,WAAtB,EAAmC;AAClC;AACAI,IAAAA,UAAU,CAAC,YAAM;AAChB;AACA;AACA,YAAM,IAAIC,KAAJ,CAAUP,qBAAV,CAAN;AACA,KAJS,EAIP,CAJO,CAAV;AAKA,GAPD,MAOO;AACN;AACAQ,IAAAA,OAAO,CAACC,KAAR,CAAcT,qBAAd;AACA;AACD;AAED,OAAO,SAASU,cAAT,CAAwBC,KAAxB,EAA+B;AACrC;AACAA,EAAAA,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoB,iBAApB;AACA,MAAIC,KAAK,GAAGX,QAAQ,CAACY,cAAT,CAAwB,sBAAxB,CAAZ;;AACA,MAAI,CAACD,KAAL,EAAY;AACXA,IAAAA,KAAK,GAAGX,QAAQ,CAACa,aAAT,CAAuB,OAAvB,CAAR;AACAF,IAAAA,KAAK,CAACG,EAAN,GAAW,sBAAX,CAFW,CAGX;;AACAH,IAAAA,KAAK,CAACI,SAAN,GAAkB,uTAWhBC,OAXgB,CAWR,SAXQ,EAWG,EAXH,CAAlB;AAYAhB,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,WAAd,CAA0BP,KAA1B;AACA;AACD;AAED,OAAO,SAASQ,eAAT,CAAyBX,KAAzB,EAAgCY,iBAAhC,EAAmDC,gBAAnD,EAAqE;AAC3E;AACAb,EAAAA,KAAK,CAACG,KAAN,CAAYW,WAAZ,CAAwB,8BAAxB,EAAwD1B,EAAE,CAACwB,iBAAD,CAA1D;AACAZ,EAAAA,KAAK,CAACG,KAAN,CAAYW,WAAZ,CAAwB,iCAAxB,EAA2D1B,EAAE,CAACyB,gBAAD,CAA7D;AACA","sourcesContent":["import { px } from './utility'\n\nconst NOT_SUPPORTED_MESSAGE = '[virtual-scroller] It looks like you\\'re using Internet Explorer which doesn\\'t support CSS variables required for a <tbody/> container. VirtualScroller has been switched into \"bypass\" mode (render all items). See: https://gitlab.com/catamphetamine/virtual-scroller/-/issues/1'\n\nexport function supportsTbody() {\n\t// Detect Internet Explorer.\n\t// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\n\t// `documentMode` is an IE-only property.\n\t// Supports IE 9-11. Maybe even IE 8.\n\t// http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n\tif (typeof window !== 'undefined' && window.document.documentMode) {\n\t\t// CSS variables aren't supported in Internet Explorer.\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport function reportTbodyIssue() {\n\tif (typeof window !== 'undefined') {\n\t\t// In a web browser.\n\t\tsetTimeout(() => {\n\t\t\t// Throw an error in a timeout so that it doesn't interrupt the application's flow.\n\t\t\t// At the same time, the error could be spotted in the console or in error monitoring software.\n\t\t\tthrow new Error(NOT_SUPPORTED_MESSAGE)\n\t\t}, 0)\n\t} else {\n\t\t// On a server.\n\t\tconsole.error(NOT_SUPPORTED_MESSAGE)\n\t}\n}\n\nexport function addTbodyStyles(tbody) {\n\t// `classList.add` is supported in Internet Explorer 10+.\n\ttbody.classList.add('VirtualScroller')\n\tlet style = document.getElementById('VirtualScrollerStyle')\n\tif (!style) {\n\t\tstyle = document.createElement('style')\n\t\tstyle.id = 'VirtualScrollerStyle'\n\t\t// CSS variables aren't supported in Internet Explorer.\n\t\tstyle.innerText = `\n\t\t\ttbody.VirtualScroller:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: table-row;\n\t\t\t\theight: var(--VirtualScroller-paddingTop);\n\t\t\t}\n\t\t\ttbody.VirtualScroller:after {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: table-row;\n\t\t\t\theight: var(--VirtualScroller-paddingBottom);\n\t\t\t}\n\t\t`.replace(/[\\n\\t]/g, '')\n\t\tdocument.head.appendChild(style)\n\t}\n}\n\nexport function setTbodyPadding(tbody, beforeItemsHeight, afterItemsHeight) {\n\t// CSS variables aren't supported in Internet Explorer.\n\ttbody.style.setProperty('--VirtualScroller-paddingTop', px(beforeItemsHeight));\n\ttbody.style.setProperty('--VirtualScroller-paddingBottom', px(afterItemsHeight));\n}"],"file":"tbody.js"}